!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Validator=t():e.Validator=t()}(this,function(){return function(e){function t(r){if(a[r])return a[r].exports;var i=a[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(1),l=r(s),o=function(){function e(t,a){var r=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];i(this,e),this.data=t,this.rules=this.parseRules(a),this.errors=[],this.customMessages=r}return u(e,[{key:"isImplicit",value:function(e){return this.implicitRules.indexOf(e)>-1}},{key:"hasData",value:function(e){return"undefined"!=typeof this.data[e]}},{key:"hasRule",value:function(e,t){return null!==this.getRule(e,t)}},{key:"getRule",value:function(e,t){var a=this.rules.filter(function(t){return t.name===e});if(0===a.length)return null;a=a[0],Array.isArray(t)||(t=[t]);var r=a.rules.filter(function(e){return t.indexOf(e.name)>=0});return 0===r.length?null:[r[0].name,r[0].params]}},{key:"requireParameterCount",value:function(e,t,a){if(t.length<e)throw new Error("Validation rule "+a+" requires at least "+e+" parameters")}},{key:"parseRules",value:function(e){var t=this,a=[];return e.forEach(function(e){a.push({name:e.name,rules:t.parseItemRules(e.rules)})}),a}},{key:"parseItemRules",value:function(e){var t=this,a=[];return e.split("|").forEach(function(e){if(e.trim()){var r=e.split(":");a.push({name:t.titleCase(r[0],"_"),params:r[1]?r[1].split(","):[]})}}),a}},{key:"titleCase",value:function(e,t){return t=t||" ",e.split(t).map(function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}).join("")}},{key:"snakeCase",value:function(e,t){return t=t||"_",e.replace(/((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(?=[A-Z])/g,"$1"+t).toLowerCase()}},{key:"getValue",value:function(e){return"undefined"==typeof this.data[e]?"":this.data[e]}},{key:"passes",value:function(){var e=this,t=!0;return this.errors=[],this.rules.forEach(function(a){var r=a.name.toLowerCase();a.rules.forEach(function(a){var i=e.validate(r,a);t=t&&i,i||e.errors.push({name:r,rule:a.name,message:e.getErrorMsg(r,a)})})}),t}},{key:"getErrorMsg",value:function(e,t){var a=this.getMessage(e,t);return this.doReplacements(a,e,t)}},{key:"getMessage",value:function(e,t){var a=this.snakeCase(t.name),r=this.customMessages[e+"."+a];if("undefined"!=typeof r)return r;if(r=l["default"][a],"object"===("undefined"==typeof r?"undefined":n(r))){var i=this.getDataType(e);r=l["default"][a][i]}return"undefined"==typeof r?"":r}},{key:"getDataType",value:function(e){return this.hasRule(e,this.numericRules)?"numeric":this.hasRule(e,["Array"])?"array":"string"}},{key:"doReplacements",value:function(e,t,a){if(""===e.trim())return"";e=e.replace(":ATTR",t.toUpperCase()).replace(":Attr",this.titleCase(t)).replace(":attr",t);var r=this["replace"+a.name];return"function"==typeof r&&(e=r.apply(this,[e,t,a.name,a.params])),e}},{key:"fails",value:function(){return!this.passes()}},{key:"hasError",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null===e)return this.errors.length>0;var t=this.errors.filter(function(t){return t.name===e.toLowerCase()});return t.length>0}},{key:"getErrors",value:function(){return this.errors}},{key:"validate",value:function(e,t){var a=this["validate"+t.name],r=this.getValue(e);return"function"==typeof a?a.apply(this,[e,r,t.params]):(console.error('"'+t.name+'" validation rule does not exist!'),!1)}},{key:"validateRequired",value:function(e,t,a){return null!==t&&(("string"!=typeof t||""!==t.trim())&&!(Array.isArray(t)&&t.length<1))}},{key:"validatePresent",value:function(e,t,a){return"undefined"!=typeof this.data[e]}},{key:"validateFilled",value:function(e,t){return!this.hasData(e)||this.validateRequired(e,t)}},{key:"anyFailingRequired",value:function(e){var t=this,a=!1;return e.forEach(function(e){if(!t.validateRequired(e,t.getValue(e)))return void(a=!0)}),a}},{key:"allFailingRequired",value:function(e){var t=this,a=!0;return e.forEach(function(e){if(t.validateRequired(e,t.getValue(e)))return void(a=!1)}),a}},{key:"validateRequiredWith",value:function(e,t,a){return!!this.allFailingRequired(a)||this.validateRequired(e,t)}},{key:"validateRequiredWithAll",value:function(e,t,a){return!!this.anyFailingRequired(a)||this.validateRequired(e,t)}},{key:"validateRequiredWithout",value:function(e,t,a){return!this.anyFailingRequired(a)||this.validateRequired(e,t)}},{key:"validateRequiredWithoutAll",value:function(e,t,a){return!this.allFailingRequired(a)||this.validateRequired(e,t)}},{key:"validateRequiredIf",value:function(e,t,a){this.requireParameterCount(2,a,"required_if");var r=this.getValue(a[0]);"boolean"==typeof r&&(r=r.toString());var i=a.slice(1);return!(i.indexOf(r)>=0)||this.validateRequired(e,t)}},{key:"validateRequiredUnless",value:function(e,t,a){this.requireParameterCount(2,a,"required_unless");var r=this.getValue(a[0]),i=a.slice(1);return!(i.indexOf(r)<0)||this.validateRequired(e,t)}},{key:"getPresentCount",value:function(e){var t=this,a=0;return e.forEach(function(e){"undefined"!=typeof t.data[e]&&a++}),a}},{key:"validateMatch",value:function(e,t,a){a instanceof Array||(a=[a]),t instanceof Array||(t=[t]);var r=a[0];return r instanceof RegExp||(r=r.split("/"),r=new RegExp(r[1],r[2])),r.test(t)}},{key:"validateRegex",value:function(e,t,a){return this.validateMatch(e,t,a)}},{key:"validateAccepted",value:function(e,t){var a=["yes","on","1",1,!0,"true"];return this.validateRequired(e,t)&&a.indexOf(t)>=0}},{key:"validateArray",value:function(e,t){return"undefined"==typeof this.data[e]||(null===t||Array.isArray(t))}},{key:"validateConfirmed",value:function(e,t){return this.validateSame(e,t,[e+"_confirmation"])}},{key:"validateSame",value:function(e,t,a){this.requireParameterCount(1,a,"same");var r=this.data[a[0]];return"undefined"!=typeof r&&t===r}},{key:"validateDifferent",value:function(e,t,a){this.requireParameterCount(1,a,"different");var r=this.data[a[0]];return"undefined"!=typeof r&&t!==r}},{key:"validateDigits",value:function(e,t,a){return this.requireParameterCount(1,a,"digits"),this.validateNumeric(e,t)&&t.toString().length==a[0]}},{key:"validateDigitsBetween",value:function(e,t,a){this.requireParameterCount(2,a,"digits_between");var r=t.toString().length;return this.validateNumeric(e,t)&&r>=a[0]&&r<=a[1]}},{key:"validateSize",value:function(e,t,a){return this.requireParameterCount(1,a,"size"),this.getSize(e,t)==a[0]}},{key:"validateBetween",value:function(e,t,a){this.requireParameterCount(2,a,"between");var r=this.getSize(e,t);return r>=a[0]&&r<=a[1]}},{key:"validateMin",value:function(e,t,a){return this.requireParameterCount(1,a,"min"),this.getSize(e,t)>=a[0]}},{key:"validateMax",value:function(e,t,a){return this.requireParameterCount(1,a,"max"),this.getSize(e,t)<=a[0]}},{key:"getSize",value:function(e,t){var a=this.hasRule(e,this.numericRules);return a&&!isNaN(parseFloat(t))?parseFloat(t):t.length}},{key:"validateIn",value:function(e,t,a){if(Array.isArray(t)&&this.hasRule(e,"Array")){var r=this.arrayDiff(t,a);return 0===r.length}return a.indexOf(t)>=0}},{key:"arrayDiff",value:function(e,t){var a=[];return e.forEach(function(e){t.indexOf(e)<0&&a.push(e)}),a}},{key:"validateNotIn",value:function(e,t,a){return this.requireParameterCount(1,a,"not_in"),!this.validateIn(e,t,a)}},{key:"validateNumeric",value:function(e,t){return this.validateMatch(e,t,/^-?\d+(\.\d*)?$/)}},{key:"validateInteger",value:function(e,t){return this.validateMatch(e,t,/^-?\d+$/)}},{key:"validateString",value:function(e,t){return!this.hasData(e)||(null===t||"string"==typeof t)}},{key:"validateEmail",value:function(e,t){return this.validateMatch(e,t,/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,4}$/i)}},{key:"validateIp",value:function(e,t){var a=t.split(".");return!!(4===a.length&&this.validateBetween(e,a[0],[1,255])&&this.validateBetween(e,a[1],[0,255])&&this.validateBetween(e,a[2],[0,255])&&this.validateBetween(e,a[3],[1,255]))}},{key:"validateUrl",value:function(e,t){return this.validateMatch(e,t,/^(https?|ftp):\/\/[^\s\/$.?#].[^\s]*$/i)}},{key:"validateAlpha",value:function(e,t){return this.validateMatch(e,t,/^([a-z])+$/i)}},{key:"validateAlphaNum",value:function(e,t){return this.validateMatch(e,t,/^([a-z0-9])+$/i)}},{key:"validateAlphaDash",value:function(e,t){return this.validateMatch(e,t,/^([a-z0-9_\-])+$/i)}},{key:"validateBefore",value:function(e,t,a){if(this.requireParameterCount(1,a,"before"),"string"!=typeof t&&"number"!=typeof t&&!(t instanceof Date))return!1;var r=this.hasData(a[0])?this.getValue(a[0]):a[0];return this.validateDate(e,r)?Date.parse(t)<Date.parse(r):(console.error(a[0]+" does not appear to be a date."),!1)}},{key:"validateAfter",value:function(e,t,a){if(this.requireParameterCount(1,a,"after"),"string"!=typeof t&&"number"!=typeof t&&!(t instanceof Date))return!1;var r=this.hasData(a[0])?this.getValue(a[0]):a[0];return this.validateDate(e,r)?Date.parse(t)>Date.parse(r):(console.error(a[0]+" does not appear to be a date."),!1)}},{key:"validateDate",value:function(e,t){return t instanceof Date||("string"==typeof t||"number"==typeof t)&&!isNaN(Date.parse(t))}},{key:"validateBoolean",value:function(e,t){if(!this.hasData(e))return!0;var a=[!0,!1,0,1,"0","1"];return null===t||a.indexOf(t)>=0}},{key:"validateJson",value:function(e,t){try{return JSON.parse(t),!0}catch(a){return!1}}},{key:"strReplace",value:function(e,t,a){Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);for(var r=0;r<e.length;r++)a=a.replace(e[r],t[r]);return a}},{key:"getDisplayableValue",value:function(e,t){return t}},{key:"getDataNameList",value:function(e){var t=[];for(var a in e)t.push({key:this.getDataName(e[a])});return t}},{key:"getDataName",value:function(e){return e}},{key:"replaceBetween",value:function(e,t,a,r){return this.strReplace([":min",":max"],r,e)}},{key:"replaceDifferent",value:function(e,t,a,r){return this.replaceSame(e,t,a,r)}},{key:"replaceDigits",value:function(e,t,a,r){return this.strReplace(":digits",r[0],e)}},{key:"replaceDigitsBetween",value:function(e,t,a,r){return this.replaceBetween(e,t,a,r)}},{key:"replaceMin",value:function(e,t,a,r){return this.strReplace(":min",r[0],e)}},{key:"replaceMax",value:function(e,t,a,r){return this.strReplace(":max",r[0],e)}},{key:"replaceIn",value:function(e,t,a,r){var i=this;return r=r.map(function(e){return i.getDisplayableValue(t,e)}),this.strReplace(":values",r.join(", "),e)}},{key:"replaceNotIn",value:function(e,t,a,r){return this.replaceIn(e,t,a,r)}},{key:"replaceRequiredWith",value:function(e,t,a,r){return r=this.getDataNameList(r),this.strReplace(":values",r.join(" / "),e)}},{key:"replaceRequiredWithAll",value:function(e,t,a,r){return this.replaceRequiredWith(e,t,a,r)}},{key:"replaceRequiredWithout",value:function(e,t,a,r){return this.replaceRequiredWith(e,t,a,r)}},{key:"replaceRequiredWithoutAll",value:function(e,t,a,r){return this.replaceRequiredWith(e,t,a,r)}},{key:"replaceRequiredIf",value:function(e,t,a,r){return r[1]=this.getDisplayableValue(r[0],this.data[r[0]]),r[0]=this.getDataName(r[0]),this.strReplace([":other",":value"],r,e)}},{key:"replaceRequiredUnless",value:function(e,t,a,r){var i=this.getDataName(r.shift());return this.strReplace([":other",":values"],[i,r.join(", ")],e)}},{key:"replaceSame",value:function(e,t,a,r){return this.strReplace(":other",t,e)}},{key:"replaceSize",value:function(e,t,a,r){return this.strReplace(":size",r[0],e)}},{key:"replaceBefore",value:function(e,t,a,r){return isNaN(Date.parse(r[0]))?this.strReplace(":date",this.getDataName(r[0]),e):this.strReplace(":date",r[0],e)}},{key:"replaceAfter",value:function(e,t,a,r){return this.replaceBefore(e,t,a,r)}},{key:"dependsOnOtherFields",value:function(e){return this.dependentRules.indexOf(e)}},{key:"dateRules",get:function(){return["Before","After","DateBetween"]}},{key:"sizeRules",get:function(){return["Size","Between","Min","Max"]}},{key:"numericRules",get:function(){return["Numeric","Integer"]}},{key:"implicitRules",get:function(){return["Required","Filled","RequiredWith","RequiredWithAll","RequiredWithout","RequiredWithoutAll","RequiredIf","RequiredUnless","Accepted","Present"]}},{key:"dependentRules",get:function(){return["RequiredWith","RequiredWithAll","RequiredWithout","RequiredWithoutAll","RequiredIf","RequiredUnless","Confirmed","Same","Different","Unique","Before","After"]}}],[{key:"make",value:function(t,a){var r=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];return new e(t,a,r)}}]),e}();t["default"]=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={accepted:"The :attr must be accepted.",after:"The :attr must be a date after :date.",alpha:"The :attr may only contain letters.",alpha_dash:"The :attr may only contain letters, numbers, and dashes.",alpha_num:"The :attr may only contain letters and numbers.",array:"The :attr must be an array.",before:"The :attr must be a date before :date.",between:{numeric:"The :attr must be between :min and :max.",file:"The :attr must be between :min and :max kilobytes.",string:"The :attr must be between :min and :max characters.",array:"The :attr must have between :min and :max items."},"boolean":"The :attr field must be true or false.",confirmed:"The :attr confirmation does not match.",date:"The :attr is not a valid date.",date_format:"The :attr does not match the format :format.",different:"The :attr and :other must be different.",digits:"The :attr must be :digits digits.",digits_between:"The :attr must be between :min and :max digits.",email:"The :attr must be a valid email address.",exists:"The selected :attr is invalid.",filled:"The :attr field is required.",image:"The :attr must be an image.","in":"The selected :attr is invalid.",integer:"The :attr must be an integer.",ip:"The :attr must be a valid IP address.",json:"The :attr must be a valid JSON string.",max:{numeric:"The :attr may not be greater than :max.",file:"The :attr may not be greater than :max kilobytes.",string:"The :attr may not be greater than :max characters.",array:"The :attr may not have more than :max items."},mimes:"The :attr must be a file of type: :values.",min:{numeric:"The :attr must be at least :min.",file:"The :attr must be at least :min kilobytes.",string:"The :attr must be at least :min characters.",array:"The :attr must have at least :min items."},not_in:"The selected :attr is invalid.",numeric:"The :attr must be a number.",regex:"The :attr format is invalid.",required:"The :attr field is required.",required_if:"The :attr field is required when :other is :value.",required_unless:"The :attr field is required unless :other is in :values.",required_with:"The :attr field is required when :values is present.",required_with_all:"The :attr field is required when :values is present.",required_without:"The :attr field is required when :values is not present.",required_without_all:"The :attr field is required when none of :values are present.",same:"The :attr and :other must match.",size:{numeric:"The :attr must be :size.",file:"The :attr must be :size kilobytes.",string:"The :attr must be :size characters.",array:"The :attr must contain :size items."},string:"The :attr must be a string.",url:"The :attr format is invalid."}}])});
//# sourceMappingURL=Validator.umd.min.js.map